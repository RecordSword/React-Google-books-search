(this["webpackJsonpgoogle-books-search"]=this["webpackJsonpgoogle-books-search"]||[]).push([[0],{29:function(e,t,a){e.exports=a(57)},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),l=a(12),s=a(1);var i=function(){return r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h1",null,"React Google Books Search"),r.a.createElement("hr",null),r.a.createElement("h2",null,"Search for and save books of interest"))};var u=function(){var e=Object(s.e)();return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-fixed-top"},r.a.createElement("button",{className:"navbar-toggler d-none"}),r.a.createElement("div",{className:"collapse navbar-collapse show"},r.a.createElement("h3",{className:"google-books"},"Google Books"),r.a.createElement("ul",{className:"navbar-nav flex-row"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(l.b,{to:"/",className:"/"===e.pathname?"nav-link active":"nav-link"},"SEARCH")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/saved",className:"/saved"===e.pathname?"nav-link active":"nav-link"},"SAVED"))))))},m=a(7),v=a.n(m),d=a(10),p=a(8),f=a(13),h=a.n(f),E=function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},b=function(){return h.a.get("/api/books/")},k=function(e){return h.a.post("/api/books/",e)},g=function(e){return h.a.delete("/api/books/".concat(e))};function N(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function w(e){var t=e.children;return r.a.createElement("div",{className:"row"},t)}var x=function(e){var t=e._id,a=e.title,c=e.author,o=e.description,l=e.image,s=e.link,i=e.location,u=e.handleBookDelete,m=e.handleBookSave,v=Object(n.useState)(!1),d=Object(p.a)(v,2),f=d[0],h=d[1],E=Object(n.useState)(!1),b=Object(p.a)(E,2),k=b[0],g=b[1];return r.a.createElement("div",{className:"result-card"},r.a.createElement("div",{className:"row result-header"},r.a.createElement("div",{className:"col-12 col-sm-5 offset-sm-1"},r.a.createElement("h4",null,a),r.a.createElement("small",null,"Written By: ",c.map((function(e){return"".concat(e," ")})))),r.a.createElement("span",{className:"col-12 col-sm-5 book-buttons"},r.a.createElement("a",{className:"button",href:s,target:"_blank",rel:"noopener noreferrer"},"View"),"Search"===i?r.a.createElement("button",{disabled:!!k,onClick:function(){return g(!0),void m({title:a,author:c,description:o,image:l,link:s})},className:"button"},"Save"):r.a.createElement("button",{disabled:!!f,onClick:function(){return h(!0),void u({_id:t})},className:"button"},"Delete"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 col-sm-3 justify-content-sm-center"},r.a.createElement("img",{className:"rounded mx-auto d-block",src:l,alt:a})),r.a.createElement("div",{className:"col-8 col-sm-9 book-description"},r.a.createElement("br",null),r.a.createElement("p",{className:"lead"},"Description: "),o)))};var j=function(){var e=Object(n.useState)(),t=Object(p.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(),l=Object(p.a)(o,2),s=l[0],i=l[1],u=function(){var e=Object(d.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:a=e.sent,console.log(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(v.a.mark((function e(){var t,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(a);case 3:if(t=e.sent,0!==(n=t.data.items).length){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n.map((function(e){return{_id:e.id,title:e.volumeInfo.title,author:"authors"in e.volumeInfo?e.volumeInfo.authors:["Unknown"],image:"imageLinks"in e.volumeInfo?e.volumeInfo.imageLinks.smallThumbnail:"https://via.placeholder.com/150",link:e.volumeInfo.infoLink,description:e.volumeInfo.description}}));case 9:r=e.sent,i(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(N,null,r.a.createElement(w,null,r.a.createElement("h3",{id:"content-title"},"Search For A Book Title.")),r.a.createElement(w,null,r.a.createElement("input",{onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{className:"button",onClick:m},"Search")),r.a.createElement(w,null,s?0===s.length?r.a.createElement("h3",null,"No books found"):s.map((function(e){return r.a.createElement(x,Object.assign({},e,{handleBookSave:u,key:e._id,location:"Search"}))})):void 0)))};var S=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[c]);var o=function(){var e=Object(d.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(d.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._id,e.prev=1,e.next=4,g(a);case 4:o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(N,null,0===a.length?r.a.createElement(w,null,r.a.createElement("h3",{id:"content-title"},"No Saved Books To Display.")):r.a.createElement("div",null,r.a.createElement(w,null,r.a.createElement("h3",{id:"content-title"},"Your Saved Books: ",a.length)),r.a.createElement(w,null,a.map((function(e){return r.a.createElement(x,Object.assign({},e,{key:e._id,handleBookDelete:l,location:"Saved"}))}))))))};var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{basename:""},r.a.createElement(u,null),r.a.createElement(i,null),r.a.createElement(s.a,{exact:!0,path:"/",component:j}),r.a.createElement(s.a,{exact:!0,path:"/saved",component:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.a627509c.chunk.js.map